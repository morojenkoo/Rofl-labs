<img src="variant_15.png" width="1001"  alt="variant_15 png here"/>

# Анализ на КС и регулярность

Пересечём язык с регуляркой $a^{+}aaababba^{+}$. Получаем язык { $a^{n}aaababba^{n+k} | n, k > 0$ }. Этот язык получен раскрытиями $S \rightarrow TaaSbbT$, $T \rightarrow aT | a$. Возьмём слово $a^{p}aaababba^{p+1}$. $2p$ > длина накачки. Очевидным образом по лемме о накачке выходим из пересечения (качать левый блок вверх, качать центральную часть нельзя, качать правый блок вниз). Так что язык не регулярен. Построим эквивалентную КС-грамматику, задающую тот же язык:

$S \rightarrow a T_1 S_1 a T_2$

$S_1 \rightarrow S | X$

$X \rightarrow aa S_2 bb$

$S_2 \rightarrow aba | aaa$

$T_1 \rightarrow T_2 b S | \epsilon$

$T_2 \rightarrow a T_2 | \epsilon$

Здесь всегда $T_1.a$ и $T_2.a$ генерируются парами, но $T_2$ всегда хотя бы на одну букву $a$ больше, при этом в $T_1$ может быть больше букв $a$, но тогда там сразу идёт $bS$, что автоматически зануляет атрибут. $S_1$ - середина, которая в раскрытии $S \rightarrow TaaSbbT$ отвечает за $aaSbb$ (нетерминал $X$), а внутренняя $S$ в этом раскрытии вынесена в $S_2 \rightarrow aba | aaa$. Таким образом, получили, что грамматика - КС

# Оптимизация парсера
Парсер использует мемоизацию. Для каждой пары (нетерминал, позиция) сохраняем результат, чтобы заново не вычислять. Сложность оптимизированного парсера $O(n^{4})$

<img src="graphics.png" width="1001"  alt="graphics png here"/>
