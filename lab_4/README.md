<img src="variant_15.png" width="1001"  alt="variant_15 png here"/>

# Анализ на КС и регулярность

Пересечём язык с регуляркой $a^{+}aaababba^{+}$. Получаем язык { $a^{n}aaababba^{n+k} | n, k > 0$ }. Этот язык получен раскрытиями $S \rightarrow TaaSbbT$, $T \rightarrow aT | a$. Возьмём слово $a^{p}aaababba^{p+1}$. Очевидным образом по лемме о накачке выходим из пересечения (качать левый блок вверх, качать центральную часть нельзя, качать правый блок вниз). Так что язык не регулярен.
У нас есть только атрибут $T.a$ у нетерминала $T$. Он является синтезируемым, потому что он вычисляется как $T_0.a:=T_1.a+1$, то есть зависит только от значения своих детей в дереве разбора. В каждом правиле вычисление атрибутов происходит в порядке, соответствующем обходу дерева разбора слева направо. Из этого всего делаем вывод, что у нас L-атрибутная грамматика, а она задаёт КС-грамматику.

# Оптимизация парсера
1) Слово из языка может начинаться только на букву $a$.
2) Заметим, что мы считаем количество букв $a$ только для нетерминалов $T$, появившихся раскрытием $S \rightarrow TaaSbbT$, и последний нетерминал $T$ нельзя раскрывать по правилу $T \rightarrow abS$, потому что атрибут зануляется вне зависимости от раскрытия внутренней $S$ и не выполняется условие $T_1.a < T_2.a$. Так что мы точно знаем, что $T_2$ Раскрывается как $a^{n}$. Поэтому точно знаем, что на конце слова $bba^{n}, n > 0$.
