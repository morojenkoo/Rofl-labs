<img src="variant_15.png" width="1001"  alt="variant_15 png here"/>

## 1

На семинаре мы решали похожую задачу, но в десятичной системе счисления, поэтому интуитивно понятно, что язык тоже должен быть регулярен, поэтому сразу построим для него автомат.

<img src="task_1.png" width="1001"  alt="task_1 png here"/>

## 2

Начнём с того, что если слово начинается на $b$, то оно всегда принадлежит языку, потому что $w\_1 = h(w\_2w\_2) = \\varepsilon$, $w\_2w\_3 = b...$ В $w\_3$ лежит что угодно, поэтому можем все лишние буквы закидывать в $w\_3$, в $w\_2$ тогда сколько угодно букв $b$. Это даёт нам регулярку $b^+(a|b)^\*$.

Если слово начинается на $a$, то 100% $w\_1$ не пустое, причём должно быть обязательно хотя бы 4 буквы $a$ в начале (по свойству гомоморфизма получаем, что $w\_1 = h(w\_2w\_2) = a^{4n}$, $|w\_2|\_a = n \\neq 0$). Тогда если в начале слова идёт хотя бы 4 буквы $a$ подряд, то первые 4 буквы $a$ закидываем в $w\_1$, затем закидываем в $w\_2$ все буквы $b$, пока не встретим пятую букву $a$, которую закидываем в $w\_2$, а всю оставшуюся строку закидываем в $w\_3$ и слова такого вида тоже принадлежат языку.

Теперь регулярка имеет вид $((aaaa)^+(b^\*a^+)(a|b)^\*) | (b^+(a|b)^\*)$.

## 3

### Регулярность

Так как регулярные языки замкнуты относительно дополнения, то рассмотрим дополнение к языку из задания (язык слов, являющихся конкатенацией двух нечётных палиндромов)

Рассмотрим строки — префиксы вида $(cab)^i$ для $i = 1, \dots, k+1$ и столбцы — суффиксы вида $(acb)^j aca$ для $j = 0, \dots, k$.

Таблица имеет размер $(k+1) \times (k+1)$. Элемент на пересечении $i$-й строки и $j$-го столбца соответствует слову:

$(cab)^i(acb)^jac$ - первый нечётный палиндром, $a$ - второй палиндром

На главной диагонали это слово является конкатенацией двух нечётных палиндромов а вне главной диагонали — нет

| Префикс \ Суффикс | $aca$ | $acbaca$| $acbacbaca$ | ... | $(acb)^k aca$ |
|-------------------|---------------|------------------|---------------------|-----|----------------------|
| $cab$     | **+**         | –                | –                   | ... | –                    |
| $(cab)^2$ | –             | **+**            | –                   | ... | –                    |
| $(cab)^3$ | –             | –                | **+**               | ... | –                    |
| ...               | ...           | ...              | ...                 | ... | ...                  |
| $(cab)^{k+1}$ | –       | –                | –                   | ... | **+**                |

Получаем бесконечное число классов эквивалентности - дополнение нерегулярно - язык нерегулярен

### КС

### Объединение линейных векторов ограниченных языков

Ограниченный язык - КС, если он представляется в виде конечного объединения линейных множеств, не содержащих запрещённых паттернов, таких как: 
3-зависимость: $(…, x, …, 3x, …, 2x, …)$ — приводит к подмножеству типа { $a^n b^n c^n$ },
Перекрёстная зависимость: $(x, y, 2·x, y)$ — приводит к подмножеству типа { $a^m b^n a^m b^n$ },
Пересекаем язык с регуляркой $a^{+}b^{+}c^{+}$. Пересечение содержит в себе подмножество $U$ = { $a^{n}b^{n}c^{n}$ }. В любом разбиении языка на объединение линейных подмножеств, хотя бы одно подмножество будет содержать $U$. 
Значит, язык не КС. 

# Дальше объяснение, почему накачка не сработает. Можно не читать

Постарался объяснить, почему накачка не сработает, это не относится к решению задачи, скорее просто попытался объяснить ход своей мысли, почему вообще пытаться что-то накачать изначально было плохой идеей. Это связано с чётностью слова. Конкатенация двух нечётных палиндромов имеет чётную длину. Тогда мы должны при любом разбиении в накачке получать чётную длину. Это значит, что нельзя изначальным словом брать слово нечётной длины, потому что мы возьмём такое разбиение, в котором накачиваемый фрагмент будет чётной длины (или два накачиваемых фрагмента нечётной длины). Тогда накачка будет добавлять чётное число букв, и мы останемся в языке. Значит, обязательно брать слово чётной длины. Но опять же, если мы возьмём накачиваемый фрагмет нечётной длины и накачаем нечётное число раз, скажем, добавим 3 буквы $a$, то мы снова получем слово нечётной длины, что по определению не может быть конкатенацией двух нечётных палиндромов. Но и это ещё не всё. Мы можем пересечь язык с такой регуляркой, чтобы зафиксировать чётность каких-то блоков. Например, в регулярке будет (aa)* или a(aa)*, и это запретит нам менять чётность с помощью накачки, таким образом мы будем при накачке получать слово чётной длины, иначе вышли из пересечения. Но и в этом случае не получится подобрать нужное слово. Если изначально слово не являлось конкатенацией двух нечётных палиндромов, то $w = w_1 w_2$ не получится накачать по следующим соображениям: 
Накачка любого шаблона либо нарушает шаблон регулярки, либо всегда есть разбиение, накачка которого не приводит к появлению двух нечётных палиндромов (конечно же, сразу это слово нельзя выбрать двумя палиндромами). Повторение любых двух или более символов не сделает слово палиндромом. Скажем, в слове $w = w_1 w_2$, $w_1$ - нечётный палиндром, $w_2$ - нет. Повторим чётное число символов в $w_2$ - и $w_2$ не станет нечётным палиндромом. Например, $w_2 = (abb)^{n}$ - повторяем $ab$ - $(ab)^{i}bb$ - не палиндром. Ну и в общем случае понятно, что если $w_2$ - нечётное, и не палиндром, то $w_2^{i}$ тоже не будет палиндромом (если $|w_2| < p$ длины накачки), так что лемма о накачке не сработает.
