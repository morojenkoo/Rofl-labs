<img src="variant_15.png" width="1001"  alt="variant_15 png here"/>

## 1

На семинаре мы решали похожую задачу, но в десятичной системе счисления, поэтому интуитивно понятно, что язык тоже должен быть регулярен, поэтому сразу построим для него автомат.

<img src="task_1.png" width="1001"  alt="task_1 png here"/>

## 2

Начнём с того, что если слово начинается на $b$, то оно всегда принадлежит языку, потому что $w\_1 = h(w\_2w\_2) = \\varepsilon$, $w\_2w\_3 = b...$ В $w\_3$ лежит что угодно, поэтому можем все лишние буквы закидывать в $w\_3$, в $w\_2$ тогда сколько угодно букв $b$. Это даёт нам регулярку $b^+(a|b)^\*$.

Если слово начинается на $a$, то 100% $w\_1$ не пустое, причём должно быть обязательно хотя бы 4 буквы $a$ в начале (по свойству гомоморфизма получаем, что $w\_1 = h(w\_2w\_2) = a^{4n}$, $|w\_2|\_a = n \\neq 0$). Тогда если в начале слова идёт хотя бы 4 буквы $a$ подряд, то первые 4 буквы $a$ закидываем в $w\_1$, затем закидываем в $w\_2$ все буквы $b$, пока не встретим пятую букву $a$, которую закидываем в $w\_2$, а всю оставшуюся строку закидываем в $w\_3$ и слова такого вида тоже принадлежат языку.

Теперь регулярка имеет вид $((aaaa)^+(b^\*a^+)(a|b)^\*) | (b^+(a|b)^\*)$.

## 3

### Регулярность

Так как регулярные языки замкнуты относительно дополнения, то рассмотрим дополнение к языку из задания (язык слов, являющихся конкатенацией двух нечётных палиндромов)

Рассмотрим строки — префиксы вида $(cab)^i$ для $i = 1, \dots, k+1$ и столбцы — суффиксы вида $(acb)^j aca$ для $j = 0, \dots, k$.

Таблица имеет размер $(k+1) \times (k+1)$. Элемент на пересечении $i$-й строки и $j$-го столбца соответствует слову:

$(cab)^i(acb)^jac$ - первый нечётный палиндром, $a$ - второй палиндром

На главной диагонали это слово является конкатенацией двух нечётных палиндромов а вне главной диагонали — нет

| Префикс \ Суффикс | $aca$ | $acbaca$| $acbacbaca$ | ... | $(acb)^k aca$ |
|-------------------|---------------|------------------|---------------------|-----|----------------------|
| $cab$     | **+**         | –                | –                   | ... | –                    |
| $(cab)^2$ | –             | **+**            | –                   | ... | –                    |
| $(cab)^3$ | –             | –                | **+**               | ... | –                    |
| ...               | ...           | ...              | ...                 | ... | ...                  |
| $(cab)^{k+1}$ | –       | –                | –                   | ... | **+**                |

Получаем бесконечное число классов эквивалентности - дополнение нерегулярно - язык нерегулярен

### КС

### Объединение линейных векторов ограниченных языков

Пересечём язык с регуляркой $a^{\*}ba^{\*}ba^{\*}b$. Получаем слова вида $a^{k_1}ba^{k_2}ba^{k_3}b$. Условие на $k_1, k_2, k_3$, чтобы такое слово было в языке: 
1) $k_1 != k_2 || k_3 \equiv 0 \pmod 2$

&

2) $k_1 != k_3 || k_2 \equiv 0 \pmod 2$

&

3) $k_2 != k_3 || k_1 \equiv 0 \pmod 2$

Характеристичесие множества КС-языков: (скопипастил)

- мультилинейны, то есть являются объединениями линейных комбинаций векторов, а именно могут быть представлены в виде $\bigcup\sum_{j} k_j\cdot \langle v_{1,j},v_{2,j},\dots, v_{k,j}\rangle$;
- и стратифицированы, то есть в каждом из кортежей $\langle v_{1,j},v_{2,j},\dots, v_{k,j}\rangle$ не больше двух ненулевых компонент, и не существует двух кортежей вида $\langle 0,v_{i},0,\dots, v_{i+m},\dots, 0\rangle$, $\langle 0,v_{i+r_1},0,\dots, v_{i+m+r_2},\dots, 0\rangle$, $r_1 < m$. 
Тем самым запрещены подъязыки, изоморфные ограниченным языкам $\{a^k b^k c^k\mid k\geq 0\}$, $\{a^n b^k c^n d^k \mid n,k\geq 0\}$ - известным примерам не контекстно-свободных языков.

Раз в каждом векторе не больше двух ненулевых компонент, значит, для доказательства не КС, нам достаточно убедится, что в характеристическом множестве нашего языка, то есть в объединении сумм векторов, обязательно содержится кортеж, в котором больше двух ненулевых компонент.

Итак, мы хотим понять, как получить представление, которое гарантирует выполнение всех трёх условий и при этом содержит вектор, в котором больше двух ненулевых компонент, и чтобы при этом не существовало более лёгкого представления без тройных зависимостей. Можем заметить, что если все числа $k_1,k_2,k_3$ - нечётные, то тогда они обязательно должны не совпадать, чтобы слово было в языке. Это значит, что среди прочих объединений линейных комбинаций, обязательно должна содержаться такая, которая гарантирует, что $k_1 != k_2 != k_3$. Это можно построить так: рассмотреть все возможные неравенства на $k_1, k_2, k_3$ и объединить представления. Понятно, что случаи симметричные, поэтому возьмём для примера $k_1 < k_2 < k_3$. 

Далее, чтобы не путаться: $k_i$ - степени из изначального слова сверху. $k_i'$ со штрихами - коэффициенты в линейных комбинациях векторов

Слова такого вида выражаются как $k_1'(0,0,0,0,1,0) + k_2'(0,0,1,0,1,0) + k_3'(1,0,1,0,1,0) | k_1',k_2',k_3' > 0$. Получаются слова вида $a^{k_3'}ba^{k_2'+k_3'}ba^{k_1'+k_2'+k_3'}b$, здесь $k_1 = k_3' < k_2 = k_2' + k_3' < k_3 = k_1' + k_2' + k_3'$. Для полноты доказательства надо убедиться, что другим способом нельзя представить такие слова. Действительно, неравенства между тремя степенями можно гарантированно достичь, только если в одном из векторов присутсвуют все три координаты. В любом другом случае нельзя гарантировать неравенство между $k_1,k_2,k_3$, поскольку коэффициенты $k_1', k_2', k_3' > 0$ могут быть любыми, то есть, например, может получиться так, что $k_1, k_2, k_3$ - нечётные и какие-то из них совпадают, то есть без тройной зависимости не гарантируется принадлежность слова языку. Значит, полученное характеристическое множество содержит кортеж, в котором не больше двух ненулевых компонент. Таким образом, язык не является КС
